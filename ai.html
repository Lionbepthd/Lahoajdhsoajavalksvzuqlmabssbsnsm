<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‚õèÔ∏è LAI - Mesin Pencarian| by Lionbepthd</title>
  <link href="https://fonts.googleapis.com/css2?family=Minecraftia&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Minecraftia', sans-serif;
      background: linear-gradient(to bottom, #4a752c 0%, #3a5f20 100%);
      color: #fff;
      min-height: 100vh;
      padding: 15px;
      display: flex;
      justify-content: center;
      align-items: start;
    }

    .chat-container {
      width: 100%;
      max-width: 680px;
      background: #8B4513;
      border: 8px solid #5D2906;
      border-radius: 0;
      box-shadow: 0 12px 40px rgba(0,0,0,0.7);
      display: flex;
      flex-direction: column;
      height: 92vh;
      position: relative;
    }

    .chat-header {
      background: #D2691E;
      padding: 16px;
      text-align: center;
      font-size: 26px;
      text-shadow: 2px 2px 0 #000;
      letter-spacing: 2px;
      border-bottom: 4px solid #5D2906;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .chat-header::before {
      content: "üîç";
      font-size: 28px;
    }

    .chat-messages {
      flex: 1;
      padding: 16px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 16px;
      background: rgba(0,0,0,0.25);
      position: relative;
    }

    .message-row {
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    .avatar {
      width: 40px;
      height: 40px;
      border: 2px solid #5D2906;
      background-size: cover;
      background-position: center;
      image-rendering: pixelated;
    }

    .message {
      max-width: 80%;
      padding: 14px 18px;
      border-radius: 8px;
      font-size: 16px;
      line-height: 1.4;
      position: relative;
      animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    @keyframes popIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .user-message {
      background: #3a5f20;
      border: 3px solid #2e4a18;
    }

    .ai-message {
      background: #5D2906;
      border: 3px solid #3a1a04;
    }

    .ai-message a {
      color: #FFD700;
      text-decoration: underline;
      font-weight: bold;
    }

    .ai-message a:hover {
      color: #FFA500;
    }

    .input-area {
      display: flex;
      padding: 14px;
      background: #5D2906;
      border-top: 4px solid #3a1a04;
    }

    #user-input {
      flex: 1;
      padding: 12px;
      border: 4px solid #3a1a04;
      border-radius: 0;
      background: #8B4513;
      color: white;
      font-family: 'Minecraftia', sans-serif;
      font-size: 16px;
      outline: none;
    }

    #user-input::placeholder {
      color: #ccc;
    }

    #send-btn {
      margin-left: 10px;
      padding: 12px 22px;
      background: #D2691E;
      color: white;
      border: 4px solid #8B4513;
      border-radius: 0;
      cursor: pointer;
      font-family: 'Minecraftia', sans-serif;
      font-size: 18px;
      font-weight: bold;
      text-shadow: 1px 1px 0 #000;
      letter-spacing: 1px;
      transition: all 0.2s;
    }

    #send-btn:hover {
      background: #FF8C00;
      transform: translateY(-2px);
    }

    .particle {
      position: absolute;
      width: 8px;
      height: 8px;
      background: #D2691E;
      border-radius: 2px;
      pointer-events: none;
      opacity: 0.8;
    }

    .footer {
      text-align: center;
      padding: 8px;
      background: #5D2906;
      border-top: 3px solid #3a1a04;
      font-size: 14px;
      color: #FFD700;
      letter-spacing: 1px;
    }

    .chat-messages::-webkit-scrollbar {
      width: 10px;
    }
    .chat-messages::-webkit-scrollbar-track {
      background: #3a1a04;
    }
    .chat-messages::-webkit-scrollbar-thumb {
      background: #D2691E;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-header">LAI - MESIN PENCARIAN</div>
    <div class="chat-messages" id="chat-messages">
      <!-- Pesan akan muncul di sini -->
    </div>
    <div class="input-area">
      <input type="text" id="user-input" placeholder="Cari sesuatu dengan LAI..." autocomplete="off" />
      <button id="send-btn">CARI</button>
    </div>
    <div class="footer">
      ¬© 2025 Lionbepthd ‚Ä¢ All Rights Reserved
    </div>
  </div>

  <script>
    // === AUDIO ===
    function playClickSound() {
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();
      osc.connect(gain);
      gain.connect(ctx.destination);
      osc.frequency.value = 300 + Math.random() * 200;
      gain.gain.value = 0.1;
      osc.start();
      gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.2);
    }

    function playNotifySound() {
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();
      osc.connect(gain);
      gain.connect(ctx.destination);
      osc.type = 'sine';
      osc.frequency.value = 600;
      gain.gain.value = 0.08;
      osc.start();
      gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.3);
    }

    // === AVATAR: LAI & Pengguna ===
    const LAI_AVATAR = "https://ibb.co.com/398Kywhp";
    const USER_AVATAR = "https://ibb.co.com/SWSTzGf";

    const chatMessages = document.getElementById('chat-messages');
    const userInput = document.getElementById('user-input');
    const sendBtn = document.getElementById('send-btn');

    window.addEventListener('load', () => {
      addMessage("Halo! Aku **LAI** üîç\nMesin pencarian dari Lionbepthd!\nCoba tanyakan:\n‚Ä¢ 'Apa itu redstone?'\n‚Ä¢ 'Wikipedia tentang gurita'\n‚Ä¢ 'Video cara membuat kue'", false);
    });

    function addMessage(text, isUser = false) {
      const row = document.createElement('div');
      row.classList.add('message-row');

      const avatar = document.createElement('div');
      avatar.classList.add('avatar');
      avatar.style.backgroundImage = `url(${isUser ? USER_AVATAR : LAI_AVATAR})`;

      const messageDiv = document.createElement('div');
      messageDiv.classList.add('message');
      messageDiv.classList.add(isUser ? 'user-message' : 'ai-message');

      if (typeof text === 'string' && text.includes('<a')) {
        messageDiv.innerHTML = text.replace(/\n/g, '<br>');
      } else {
        messageDiv.innerHTML = text.replace(/\n/g, '<br>');
      }

      row.appendChild(avatar);
      row.appendChild(messageDiv);
      chatMessages.appendChild(row);
      chatMessages.scrollTop = chatMessages.scrollHeight;

      if (!isUser) playNotifySound();
    }

    function createParticles(x, y) {
      const colors = ['#D2691E', '#8B4513', '#3a5f20', '#FFD700'];
      for (let i = 0; i < 12; i++) {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        particle.style.left = x + 'px';
        particle.style.top = y + 'px';
        particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        document.body.appendChild(particle);

        const angle = Math.random() * Math.PI * 2;
        const speed = 2 + Math.random() * 4;
        const vx = Math.cos(angle) * speed;
        const vy = Math.sin(angle) * speed;

        let opacity = 1;
        const animate = () => {
          const rect = particle.getBoundingClientRect();
          if (opacity <= 0 || rect.top > window.innerHeight || rect.left > window.innerWidth || rect.right < 0) {
            particle.remove();
            return;
          }
          particle.style.transform = `translate(${vx * 2}px, ${vy * 2}px)`;
          opacity -= 0.03;
          particle.style.opacity = opacity;
          requestAnimationFrame(animate);
        };
        requestAnimationFrame(animate);
      }
    }

    function searchOnline(query) {
      const lower = query.toLowerCase().trim();

      if (lower.startsWith("wikipedia ")) {
        const term = encodeURIComponent(query.substring(10));
        const url = `https://id.wikipedia.org/wiki/${term}`;
        window.open(url, '_blank');
        return `Membuka halaman Wikipedia!\nüîç ${query.substring(10)}\n<a href="${url}" target="_blank">Lihat di sini</a>`;
      }

      if (lower.includes("berita") || lower.includes("news")) {
        const url = "https://www.google.com/search?q=berita+terbaru&tbm=nws";
        window.open(url, '_blank');
        return `Mencari berita terbaru!\nüì∞ <a href="${url}" target="_blank">Buka Google News</a>`;
      }

      if (lower.includes("youtube") || lower.includes("video")) {
        const term = encodeURIComponent(query.replace(/(youtube|video)/gi, '').trim());
        const url = `https://www.youtube.com/results?search_query=${term}`;
        window.open(url, '_blank');
        return `Mencari video di YouTube!\nüé• <a href="${url}" target="_blank">Tonton di sini</a>`;
      }

      const encodedQuery = encodeURIComponent(query);
      const googleUrl = `https://www.google.com/search?q=${encodedQuery}`;
      window.open(googleUrl, '_blank');
      return `Mencari di Google!\nüîé <a href="${googleUrl}" target="_blank">Lihat hasilnya</a>`;
    }

    function getResponse(input) {
      const lower = input.toLowerCase();

      if (/(halo|hai|hello|hi)/.test(lower)) {
        return "Halo! Aku **LAI** üîç\nSiap bantu cari apa saja di internet!";
      }
      if (/(bantu|cara|bagaimana)/.test(lower)) {
        return "Contoh pencarian:\n‚Ä¢ 'Apa itu black hole?'\n‚Ä¢ 'Wikipedia tentang lebah'\n‚Ä¢ 'Video tutorial Excel'";
      }
      if (/(terima kasih|makasih|thanks)/.test(lower)) {
        return "Sama-sama! üíé\nSemoga harimu penuh keberuntungan!";
      }

      const questionWords = ["apa", "siapa", "kapan", "di mana", "mengapa", "bagaimana", "berapa", "cara", "?"];
      if (questionWords.some(word => lower.includes(word)) || input.split(' ').length > 2) {
        return searchOnline(input);
      }

      return searchOnline(input);
    }

    function sendMessage() {
      const text = userInput.value.trim();
      if (!text) return;

      addMessage(text, true);
      userInput.value = '';
      playClickSound();

      const btnRect = sendBtn.getBoundingClientRect();
      createParticles(btnRect.left + btnRect.width / 2, btnRect.top + btnRect.height / 2);

      setTimeout(() => {
        const response = getResponse(text);
        addMessage(response);
      }, 600);
    }

    sendBtn.addEventListener('click', sendMessage);
    userInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendMessage();
    });
  </script>
</body>
</html>
